#!/usr/bin/env bash
#
# Description: Final summary and next steps
# Author: GitHub Copilot
# Generated: 2025-12-16

set -euo pipefail

# --- Helper Functions ---
readonly GREEN='\033[1;32m'
readonly BLUE='\033[1;34m'
readonly YELLOW='\033[1;33m'
readonly RED='\033[1;31m'
readonly CYAN='\033[1;36m'
readonly GRAY='\033[0;90m'
readonly NC='\033[0m' # No Color

info() { echo -e "${BLUE}::${NC} $1"; }
success() { echo -e "${GREEN}>>${NC} $1"; }
error() { echo -e "${RED}!!${NC} $1"; }
warning() { echo -e "${YELLOW}!!${NC} $1"; }
substep() { echo -e "${GRAY}   -> $1${NC}"; }
step() { echo -e "${CYAN}[$1/$2]${NC} $3"; }
header() { echo ""; echo -e "${BLUE}==>${NC} ${1}"; echo ""; }
check_cmd() { command -v "$1" >/dev/null 2>&1; }
# ------------------------

header "Installation Complete"

info "System Info:"
substep "OS: {{ .chezmoi.os }} {{ .chezmoi.arch }}"
substep "Headless: {{ get . "headless" }}"

info "Modules Status:"
substep "Core: Installed"
{{ if (get . "install_security") -}}
substep "Security: Installed"
{{ else -}}
substep "Security: Skipped"
{{ end -}}
{{ if (get . "install_gui") -}}
substep "GUI: Installed"
{{ else -}}
substep "GUI: Skipped"
{{ end -}}
{{ if (get . "install_mise") -}}
substep "Mise: Installed"
{{ else -}}
substep "Mise: Skipped"
{{ end -}}
{{ if (get . "install_maintenance") -}}
substep "Maintenance: Installed"
{{ else -}}
substep "Maintenance: Skipped"
{{ end -}}

info "Next steps:"
substep "1. Restart your shell: exec zsh"
substep "2. Verify installation: chezmoi verify"
{{ if (get . "install_security") -}}
substep "3. Insert your YubiKey (if applicable)"
{{ end -}}
{{ if (get . "install_gui") -}}
substep "4. Launch VSCode and sign in"
{{ end -}}

info "Tips:"
substep "Edit configs: chezmoi edit <file>"
substep "Apply changes: chezmoi apply"
substep "Update on other machines: chezmoi update"

echo ""
