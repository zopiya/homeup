#!/bin/bash

# Purpose: Display summary after installation
# Runs always

{{- template "utils.sh" . -}}

echo ""
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo -e "${GREEN}âœ¨ Installation Complete!${NC}"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"

echo ""
echo -e "${CYAN}System Info:${NC}"
echo -e "  â€¢ OS: {{ .chezmoi.os }} {{ .chezmoi.arch }}"
echo -e "  â€¢ Headless: {{ .headless }}"

echo ""
echo -e "${CYAN}Modules Status:${NC}"
echo -e "  âœ… Core"
{{ if .install_security -}}
echo -e "  âœ… Security"
{{ else -}}
echo -e "  âšª Security (Skipped)"
{{ end -}}
{{ if .install_gui -}}
echo -e "  âœ… GUI"
{{ else -}}
echo -e "  âšª GUI (Skipped)"
{{ end -}}
{{ if .install_mise -}}
echo -e "  âœ… Mise"
{{ else -}}
echo -e "  âšª Mise (Skipped)"
{{ end -}}
{{ if .install_maintenance -}}
echo -e "  âœ… Maintenance"
{{ else -}}
echo -e "  âšª Maintenance (Skipped)"
{{ end -}}

echo ""
echo -e "${CYAN}ğŸ“š Next steps:${NC}"
echo -e "  1. Restart your shell: ${BLUE}exec zsh${NC}"
echo -e "  2. Verify installation: ${BLUE}chezmoi verify${NC}"
{{ if .install_security -}}
echo -e "  3. Insert your YubiKey (if applicable)"
{{ end -}}
{{ if .install_gui -}}
echo -e "  4. Launch VSCode and sign in"
{{ end -}}

echo ""
echo -e "${CYAN}ğŸ’¡ Tips:${NC}"
echo -e "  â€¢ Edit configs: ${BLUE}chezmoi edit <file>${NC}"
echo -e "  â€¢ Apply changes: ${BLUE}chezmoi apply${NC}"
echo -e "  â€¢ Update on other machines: ${BLUE}chezmoi update${NC}"

echo ""
